<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>تسجيل الدخول</title>
<style>
body {
  font-family: Arial, sans-serif;
  background-color: #f0f2f5;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}
.login-container {
  background-color: #fff;
  padding: 30px;
  border-radius: 10px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.1);
  width: 350px;
}
input, button {
  width: 100%;
  padding: 10px;
  margin-bottom: 15px;
  border-radius: 6px;
  border: 1px solid #ddd;
  box-sizing: border-box;
}
button {
  background-color: #007BFF;
  color: #fff;
  border: none;
  cursor: pointer;
}
</style>
</head>
<body>

<div class="login-container">
<h2>تسجيل الدخول</h2>
<form id="loginForm">
<input type="email" id="email" placeholder="البريد الإلكتروني" required>
<input type="password" id="password" placeholder="كلمة المرور" required>
<label><input type="checkbox" id="isAdmin"> تسجيل دخول كمسؤول</label>
<button type="submit">دخول</button>
</form>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.30.0/dist/supabase.min.js"></script>
<script>
// إعداد Supabase
const supabaseUrl = 'https://eqbvbpjywjejahcwnizw.supabase.co';
const supabaseAnonKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVxYnZicGp5d2plamFoY3duaXp3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2NzYxNDgsImV4cCI6MjA3NDI1MjE0OH0.0X_VhMYGF6VTfGL_gz5fp1qN5JLZB6gq-tAzd4VYar8';
const supabase = Supabase.createClient(supabaseUrl, supabaseAnonKey);

// بيانات الأدمن
const adminCredentials = {
  email: 'admin@gmail.com',
  password: 'ad'
};

document.getElementById('loginForm').addEventListener('submit', async (e) => {
  e.preventDefault();

  const email = document.getElementById('email').value;
  const password = document.getElementById('password').value;
  const isAdmin = document.getElementById('isAdmin').checked;

  if(isAdmin) {
    if(email === adminCredentials.email && password === adminCredentials.password){
      alert('تم تسجيل دخول المسؤول بنجاح!');
      window.location.href = 'reel.html';
    } else {
      alert('بيانات المسؤول غير صحيحة.');
    }
  } else {
    // تسجيل دخول مستخدم عادي باستخدام Supabase Auth
    const { data, error } = await supabase.auth.signInWithPassword({ email, password });

    if(data?.user){
      alert('تم تسجيل دخول المستخدم بنجاح!');
      window.location.href = 'reel.html';
    } else {
      alert('البيانات غير صحيحة أو الحساب غير موجود.');
    }
  }
});
</script>
</body>
</html>
